
import type { CropDetails, CropId, GameState, Plot, MarketItem, SeedId } from '@/types';

export const GRID_ROWS = 3;
export const GRID_COLS = 5;
export const TOTAL_PLOTS = GRID_ROWS * GRID_COLS;

export const INITIAL_GOLD = 100;
export const INITIAL_XP = 0;
export const INITIAL_LEVEL = 1;

export const CROP_DATA: Record<CropId, CropDetails> = {
  tomato: {
    name: 'C√† Chua',
    seedName: 'tomatoSeed',
    icon: 'üçÖ',
    timeToGrowing: 60 * 1000, 
    timeToReady: 120 * 1000,
    harvestYield: 3,
    seedPrice: 5,
    cropPrice: 2,
  },
  carrot: {
    name: 'C√† R·ªët',
    seedName: 'carrotSeed',
    icon: 'ü•ï',
    timeToGrowing: 120 * 1000, 
    timeToReady: 240 * 1000, 
    harvestYield: 2,
    seedPrice: 8,
    cropPrice: 5,
  },
  corn: {
    name: 'Ng√¥',
    seedName: 'cornSeed',
    icon: 'üåΩ',
    timeToGrowing: 180 * 1000, 
    timeToReady: 360 * 1000,  
    harvestYield: 1,
    seedPrice: 12,
    cropPrice: 15,
  },
  strawberry: {
    name: 'D√¢u T√¢y',
    seedName: 'strawberrySeed',
    icon: 'üçì',
    timeToGrowing: 90000,
    timeToReady: 200000,
    harvestYield: 4,
    seedPrice: 10,
    cropPrice: 3,
  },
  blueberry: {
    name: 'Vi·ªát Qu·∫•t',
    seedName: 'blueberrySeed',
    icon: 'ü´ê',
    timeToGrowing: 100000,
    timeToReady: 220000,
    harvestYield: 5,
    seedPrice: 12,
    cropPrice: 3,
  },
  watermelon: {
    name: 'D∆∞a H·∫•u',
    seedName: 'watermelonSeed',
    icon: 'üçâ',
    timeToGrowing: 200000,
    timeToReady: 450000,
    harvestYield: 1,
    seedPrice: 25,
    cropPrice: 30,
  },
  pineapple: {
    name: 'D·ª©a (Th∆°m)',
    seedName: 'pineappleSeed',
    icon: 'üçç',
    timeToGrowing: 250000,
    timeToReady: 500000,
    harvestYield: 1,
    seedPrice: 30,
    cropPrice: 35,
  },
  mango: {
    name: 'Xo√†i',
    seedName: 'mangoSeed',
    icon: 'ü•≠',
    timeToGrowing: 180000,
    timeToReady: 400000,
    harvestYield: 2,
    seedPrice: 20,
    cropPrice: 12,
  },
  grapes: {
    name: 'Nho',
    seedName: 'grapesSeed',
    icon: 'üçá',
    timeToGrowing: 150000,
    timeToReady: 300000,
    harvestYield: 10,
    seedPrice: 18,
    cropPrice: 2,
  },
  kiwi: {
    name: 'Kiwi',
    seedName: 'kiwiSeed',
    icon: 'ü•ù',
    timeToGrowing: 130000,
    timeToReady: 280000,
    harvestYield: 3,
    seedPrice: 15,
    cropPrice: 6,
  },
  peach: {
    name: 'ƒê√†o',
    seedName: 'peachSeed',
    icon: 'üçë',
    timeToGrowing: 160000,
    timeToReady: 320000,
    harvestYield: 2,
    seedPrice: 17,
    cropPrice: 10,
  },
  cherry: {
    name: 'Anh ƒê√†o',
    seedName: 'cherrySeed',
    icon: 'üçí',
    timeToGrowing: 110000,
    timeToReady: 250000,
    harvestYield: 8,
    seedPrice: 22,
    cropPrice: 3,
  },
  lemon: {
    name: 'Chanh V√†ng',
    seedName: 'lemonSeed',
    icon: 'üçã',
    timeToGrowing: 100000,
    timeToReady: 230000,
    harvestYield: 4,
    seedPrice: 9,
    cropPrice: 3,
  },
  orange: {
    name: 'Cam',
    seedName: 'orangeSeed',
    icon: 'üçä',
    timeToGrowing: 170000,
    timeToReady: 350000,
    harvestYield: 3,
    seedPrice: 16,
    cropPrice: 7,
  },
  apple: {
    name: 'T√°o ƒê·ªè',
    seedName: 'appleSeed',
    icon: 'üçé',
    timeToGrowing: 140000,
    timeToReady: 290000,
    harvestYield: 2,
    seedPrice: 14,
    cropPrice: 8,
  },
  greenapple: {
    name: 'T√°o Xanh',
    seedName: 'greenappleSeed',
    icon: 'üçè',
    timeToGrowing: 145000,
    timeToReady: 300000,
    harvestYield: 2,
    seedPrice: 15,
    cropPrice: 8,
  },
  pear: {
    name: 'L√™',
    seedName: 'pearSeed',
    icon: 'üçê',
    timeToGrowing: 155000,
    timeToReady: 310000,
    harvestYield: 2,
    seedPrice: 16,
    cropPrice: 9,
  },
  banana: {
    name: 'Chu·ªëi',
    seedName: 'bananaSeed',
    icon: 'üçå',
    timeToGrowing: 125000,
    timeToReady: 260000,
    harvestYield: 5,
    seedPrice: 13,
    cropPrice: 3,
  },
  avocado: {
    name: 'B∆°',
    seedName: 'avocadoSeed',
    icon: 'ü•ë',
    timeToGrowing: 220000,
    timeToReady: 480000,
    harvestYield: 2,
    seedPrice: 28,
    cropPrice: 18,
  },
  eggplant: {
    name: 'C√† T√≠m',
    seedName: 'eggplantSeed',
    icon: 'üçÜ',
    timeToGrowing: 135000,
    timeToReady: 270000,
    harvestYield: 3,
    seedPrice: 11,
    cropPrice: 4,
  },
  potato: {
    name: 'Khoai T√¢y',
    seedName: 'potatoSeed',
    icon: 'ü•î',
    timeToGrowing: 115000,
    timeToReady: 240000,
    harvestYield: 4,
    seedPrice: 7,
    cropPrice: 2,
  },
  onion: {
    name: 'H√†nh T√¢y',
    seedName: 'onionSeed',
    icon: 'üßÖ',
    timeToGrowing: 95000,
    timeToReady: 200000,
    harvestYield: 3,
    seedPrice: 6,
    cropPrice: 2,
  },
  garlic: {
    name: 'T·ªèi',
    seedName: 'garlicSeed',
    icon: 'üßÑ',
    timeToGrowing: 85000,
    timeToReady: 190000,
    harvestYield: 5,
    seedPrice: 8,
    cropPrice: 2,
  },
  broccoli: {
    name: 'B√¥ng C·∫£i Xanh',
    seedName: 'broccoliSeed',
    icon: 'ü•¶',
    timeToGrowing: 105000,
    timeToReady: 220000,
    harvestYield: 1,
    seedPrice: 10,
    cropPrice: 12,
  },
  bellpepper: {
    name: '·ªöt Chu√¥ng',
    seedName: 'bellpepperSeed',
    icon: 'ü´ë',
    timeToGrowing: 125000,
    timeToReady: 260000,
    harvestYield: 3,
    seedPrice: 13,
    cropPrice: 5,
  },
  cucumber: {
    name: 'D∆∞a Chu·ªôt',
    seedName: 'cucumberSeed',
    icon: 'ü•í',
    timeToGrowing: 75000,
    timeToReady: 180000,
    harvestYield: 2,
    seedPrice: 5,
    cropPrice: 3,
  },
  lettuce: {
    name: 'X√† L√°ch',
    seedName: 'lettuceSeed',
    icon: 'ü•¨',
    timeToGrowing: 65000,
    timeToReady: 150000,
    harvestYield: 1,
    seedPrice: 4,
    cropPrice: 5,
  },
  mushroom: {
    name: 'N·∫•m',
    seedName: 'mushroomSeed',
    icon: 'üçÑ',
    timeToGrowing: 55000,
    timeToReady: 120000,
    harvestYield: 6,
    seedPrice: 15,
    cropPrice: 3,
  },
  peanut: {
    name: 'ƒê·∫≠u Ph·ªông',
    seedName: 'peanutSeed',
    icon: 'ü•ú',
    timeToGrowing: 145000,
    timeToReady: 300000,
    harvestYield: 10,
    seedPrice: 12,
    cropPrice: 1,
  },
  chestnut: {
    name: 'H·∫°t D·∫ª',
    seedName: 'chestnutSeed',
    icon: 'üå∞',
    timeToGrowing: 280000,
    timeToReady: 550000,
    harvestYield: 2,
    seedPrice: 35,
    cropPrice: 20,
  },
  coconut: {
    name: 'D·ª´a',
    seedName: 'coconutSeed',
    icon: 'ü••',
    timeToGrowing: 300000,
    timeToReady: 600000,
    harvestYield: 1,
    seedPrice: 40,
    cropPrice: 45,
  },
  sweetpotato: {
    name: 'Khoai Lang',
    seedName: 'sweetpotatoSeed',
    icon: 'üç†',
    timeToGrowing: 130000,
    timeToReady: 280000,
    harvestYield: 3,
    seedPrice: 9,
    cropPrice: 4,
  },
  chilipepper: {
    name: '·ªöt Cay',
    seedName: 'chilipepperSeed',
    icon: 'üå∂Ô∏è',
    timeToGrowing: 100000,
    timeToReady: 210000,
    harvestYield: 8,
    seedPrice: 11,
    cropPrice: 2,
  },
  rice: {
    name: 'L√∫a G·∫°o',
    seedName: 'riceSeed',
    icon: 'üåæ',
    timeToGrowing: 200000,
    timeToReady: 420000,
    harvestYield: 15,
    seedPrice: 10,
    cropPrice: 1,
  },
  sugarcane: {
    name: 'M√≠a',
    seedName: 'sugarcaneSeed',
    icon: 'üéã', // Placeholder, actual sugarcane might not have specific emoji
    timeToGrowing: 190000,
    timeToReady: 380000,
    harvestYield: 3,
    seedPrice: 14,
    cropPrice: 6,
  },
  cabbage: {
    name: 'B·∫Øp C·∫£i',
    seedName: 'cabbageSeed',
    icon: 'ü•¨', // Shared with lettuce
    timeToGrowing: 110000,
    timeToReady: 230000,
    harvestYield: 1,
    seedPrice: 7,
    cropPrice: 8,
  },
  radish: {
    name: 'C·ªß C·∫£i',
    seedName: 'radishSeed',
    icon: '‚ö™', // Placeholder: white circle
    timeToGrowing: 70000,
    timeToReady: 160000,
    harvestYield: 3,
    seedPrice: 6,
    cropPrice: 3,
  },
  cauliflower: {
    name: 'S√∫p L∆° Tr·∫Øng',
    seedName: 'cauliflowerSeed',
    icon: 'ü•¶', // Shared with broccoli
    timeToGrowing: 115000,
    timeToReady: 240000,
    harvestYield: 1,
    seedPrice: 11,
    cropPrice: 13,
  },
  olive: {
    name: '√î Liu',
    seedName: 'oliveSeed',
    icon: 'ü´í',
    timeToGrowing: 240000,
    timeToReady: 490000,
    harvestYield: 6,
    seedPrice: 26,
    cropPrice: 5,
  },
  papaya: {
    name: 'ƒêu ƒê·ªß',
    seedName: 'papayaSeed',
    icon: 'ü•≠', // Shared with mango
    timeToGrowing: 175000,
    timeToReady: 360000,
    harvestYield: 2,
    seedPrice: 19,
    cropPrice: 11,
  },
  plum: {
    name: 'M·∫≠n',
    seedName: 'plumSeed',
    icon: 'üçë', // Shared with peach
    timeToGrowing: 165000,
    timeToReady: 330000,
    harvestYield: 4,
    seedPrice: 18,
    cropPrice: 5,
  },
  zucchini: {
    name: 'B√≠ Ng√≤i',
    seedName: 'zucchiniSeed',
    icon: 'ü•í', // Shared with cucumber
    timeToGrowing: 80000,
    timeToReady: 170000,
    harvestYield: 2,
    seedPrice: 7,
    cropPrice: 4,
  },
  pumpkin: {
    name: 'B√≠ Ng√¥',
    seedName: 'pumpkinSeed',
    icon: 'üéÉ',
    timeToGrowing: 220000,
    timeToReady: 470000,
    harvestYield: 1,
    seedPrice: 20,
    cropPrice: 25,
  },
  spinach: {
    name: 'Rau Bina',
    seedName: 'spinachSeed',
    icon: 'ü•¨', // Shared
    timeToGrowing: 50000,
    timeToReady: 110000,
    harvestYield: 2,
    seedPrice: 3,
    cropPrice: 2,
  },
  artichoke: {
    name: 'Atiso',
    seedName: 'artichokeSeed',
    icon: 'üå∏', // Placeholder: Cherry Blossom as no direct emoji
    timeToGrowing: 190000,
    timeToReady: 390000,
    harvestYield: 1,
    seedPrice: 22,
    cropPrice: 25,
  },
  asparagus: {
    name: 'MƒÉng T√¢y',
    seedName: 'asparagusSeed',
    icon: 'üåø', // Placeholder: Herb
    timeToGrowing: 100000,
    timeToReady: 220000,
    harvestYield: 4,
    seedPrice: 15,
    cropPrice: 4,
  },
  beetroot: {
    name: 'C·ªß D·ªÅn',
    seedName: 'beetrootSeed',
    icon: 'üî¥', // Placeholder: Red Circle
    timeToGrowing: 90000,
    timeToReady: 200000,
    harvestYield: 2,
    seedPrice: 8,
    cropPrice: 5,
  },
  celery: {
    name: 'C·∫ßn T√¢y',
    seedName: 'celerySeed',
    icon: 'ü•¨', // Shared
    timeToGrowing: 70000,
    timeToReady: 150000,
    harvestYield: 1,
    seedPrice: 5,
    cropPrice: 6,
  },
  ginger: {
    name: 'G·ª´ng',
    seedName: 'gingerSeed',
    icon: 'üåæ', // Placeholder: Sheaf of Rice (looks somewhat like ginger root)
    timeToGrowing: 120000,
    timeToReady: 250000,
    harvestYield: 3,
    seedPrice: 13,
    cropPrice: 5,
  },
  leek: {
    name: 'T·ªèi T√¢y (Boa-r√¥)',
    seedName: 'leekSeed',
    icon: 'üßÖ', // Shared
    timeToGrowing: 85000,
    timeToReady: 180000,
    harvestYield: 2,
    seedPrice: 7,
    cropPrice: 4,
  },
  peas: {
    name: 'ƒê·∫≠u H√† Lan',
    seedName: 'peasSeed',
    icon: 'üü¢', // Placeholder: Green Circle
    timeToGrowing: 60000,
    timeToReady: 130000,
    harvestYield: 10,
    seedPrice: 9,
    cropPrice: 1,
  },
  turnip: {
    name: 'C·ªß C·∫£i Turnip',
    seedName: 'turnipSeed',
    icon: 'üü£', // Placeholder: Purple Circle
    timeToGrowing: 75000,
    timeToReady: 160000,
    harvestYield: 2,
    seedPrice: 6,
    cropPrice: 4,
  },
  soybean: {
    name: 'ƒê·∫≠u N√†nh',
    seedName: 'soybeanSeed',
    icon: 'üå±', // Seedling
    timeToGrowing: 140000,
    timeToReady: 300000,
    harvestYield: 8,
    seedPrice: 10,
    cropPrice: 2,
  },
  lentil: {
    name: 'ƒê·∫≠u LƒÉng',
    seedName: 'lentilSeed',
    icon: 'üü§', // Brown Circle
    timeToGrowing: 130000,
    timeToReady: 280000,
    harvestYield: 12,
    seedPrice: 11,
    cropPrice: 1,
  }
};

export const ALL_CROP_IDS = Object.keys(CROP_DATA) as CropId[];
export const ALL_SEED_IDS = ALL_CROP_IDS.map(cropId => CROP_DATA[cropId].seedName as SeedId);


export const INITIAL_PLOTS: Plot[] = Array.from({ length: TOTAL_PLOTS }, (_, i) => ({
  id: i,
  state: 'empty',
}));

export const INITIAL_INVENTORY: GameState['inventory'] = {
  tomatoSeed: 5,
  carrotSeed: 3,
  cornSeed: 0,
  tomato: 0,
  carrot: 0,
  corn: 0,
  // Initialize new seeds to 0 or a small amount if desired
  strawberrySeed: 2, blueberrySeed: 0, watermelonSeed: 0, pineappleSeed: 0, mangoSeed: 0, grapesSeed: 0, kiwiSeed: 0, peachSeed: 0, cherrySeed: 0, lemonSeed: 0, orangeSeed: 0, appleSeed: 0, greenappleSeed: 0, pearSeed: 0, bananaSeed: 0, avocadoSeed: 0, eggplantSeed: 0, potatoSeed: 0, onionSeed: 0, garlicSeed: 0, broccoliSeed: 0, bellpepperSeed: 0, cucumberSeed: 0, lettuceSeed: 0, mushroomSeed: 0, peanutSeed: 0, chestnutSeed: 0, coconutSeed: 0, sweetpotatoSeed: 0, chilipepperSeed: 0, riceSeed: 0, sugarcaneSeed: 0, cabbageSeed: 0, radishSeed: 0, cauliflowerSeed: 0, oliveSeed: 0, papayaSeed: 0, plumSeed: 0, zucchiniSeed: 0, pumpkinSeed: 0, spinachSeed: 0, artichokeSeed: 0, asparagusSeed: 0, beetrootSeed: 0, celerySeed: 0, gingerSeed: 0, leekSeed: 0, peasSeed: 0, turnipSeed: 0, soybeanSeed: 0, lentilSeed: 0,
  // Initialize new crops to 0
  strawberry: 0, blueberry: 0, watermelon: 0, pineapple: 0, mango: 0, grapes: 0, kiwi: 0, peach: 0, cherry: 0, lemon: 0, orange: 0, apple: 0, greenapple: 0, pear: 0, banana: 0, avocado: 0, eggplant: 0, potato: 0, onion: 0, garlic: 0, broccoli: 0, bellpepper: 0, cucumber: 0, lettuce: 0, mushroom: 0, peanut: 0, chestnut: 0, coconut: 0, sweetpotato: 0, chilipepper: 0, rice: 0, sugarcane: 0, cabbage: 0, radish: 0, cauliflower: 0, olive: 0, papaya: 0, plum: 0, zucchini: 0, pumpkin: 0, spinach: 0, artichoke: 0, asparagus: 0, beetroot: 0, celery: 0, ginger: 0, leek: 0, peas: 0, turnip: 0, soybean: 0, lentil: 0,
};

export const INITIAL_GAME_STATE: GameState = {
  gold: INITIAL_GOLD,
  xp: INITIAL_XP,
  level: INITIAL_LEVEL,
  plots: INITIAL_PLOTS,
  inventory: INITIAL_INVENTORY,
  lastUpdate: Date.now(),
};

export const LEVEL_UP_XP_THRESHOLD = (level: number): number => {
  return Math.floor(100 * Math.pow(level, 1.5)); // L√†m tr√≤n xu·ªëng ƒë·ªÉ ƒë·∫£m b·∫£o l√† s·ªë nguy√™n
};

export const MARKET_ITEMS: MarketItem[] = [
  ...ALL_CROP_IDS.map(cropId => ({
    id: CROP_DATA[cropId].seedName as SeedId,
    name: `${CROP_DATA[cropId].name} (H·∫°t Gi·ªëng)`,
    price: CROP_DATA[cropId].seedPrice,
    type: 'seed' as 'seed'
  })),
  ...ALL_CROP_IDS.map(cropId => ({
    id: cropId,
    name: CROP_DATA[cropId].name,
    price: CROP_DATA[cropId].cropPrice,
    type: 'crop' as 'crop'
  })),
];

export const LOCAL_STORAGE_GAME_KEY = 'happyFarmGame';

